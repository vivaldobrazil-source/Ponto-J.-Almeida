<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Controle de Ponto - J. Almeida</title>
<link rel="stylesheet" href="style.css">

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<!-- XLSX e jsPDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

<div class="container">

  <!-- LOGIN -->
  <div id="login-screen">
    <h2>Login</h2>
    <input type="text" id="username" placeholder="Nome de usuÃ¡rio">
    <input type="password" id="password" placeholder="Senha">
    <button onclick="login()">Entrar</button>
    <button onclick="mostrarRegistro()">Registrar novo usuÃ¡rio</button>
    <p id="login-error" class="error"></p>
  </div>

  <!-- REGISTRO -->
  <div id="register-screen" class="hidden">
    <h2>Registrar UsuÃ¡rio</h2>
    <input type="text" id="reg-username" placeholder="Nome de usuÃ¡rio">
    <input type="password" id="reg-password" placeholder="Senha">
    <button onclick="registrar()">Registrar</button>
    <button onclick="voltarLogin()">Voltar</button>
    <p id="register-error" class="error"></p>
  </div>

  <!-- PONTO -->
  <div id="ponto-screen" class="hidden">
    <h2>Bem-vindo, <span id="user-display"></span></h2>

    <div class="buttons">
      <button onclick="marcarPonto('entrada')">ğŸš© Entrada</button>
      <button onclick="marcarPonto('saida')">ğŸ SaÃ­da</button>
      <button onclick="marcarPonto('saidaAlmoÃ§o')">ğŸ” SaÃ­da AlmoÃ§o</button>
      <button onclick="marcarPonto('retornoAlmoÃ§o')">â˜• Retorno AlmoÃ§o</button>
    </div>

    <h3>Registros</h3>
    <table id="tabela-pontos">
      <thead>
        <tr>
          <th>UsuÃ¡rio</th>
          <th>Tipo</th>
          <th>Data/Hora</th>
          <th>LocalizaÃ§Ã£o</th>
          <th>AÃ§Ãµes</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <!-- Admin -->
    <div id="admin-controls" class="hidden">
      <h3>RelatÃ³rios Admin</h3>
      <input type="date" id="data-inicio"> atÃ© 
      <input type="date" id="data-fim">
      <input type="text" id="usuario-rel" placeholder="UsuÃ¡rio (opcional)">
      <button onclick="gerarPDF(true)">ğŸ“„ PDF</button>
      <button onclick="gerarExcel(true)">ğŸ“Š Excel</button>
    </div>

    <div class="relatorios">
      <button onclick="gerarPDF(false)">ğŸ“„ PDF</button>
      <button onclick="gerarExcel(false)">ğŸ“Š Excel</button>
    </div>

    <button onclick="logout()" class="logout">Sair</button>
  </div>

</div>

<script src="app.js"></script>
</body>
</html>
